<!-- 导航栏 -->
<nav class="navbar navbar-expand navbar-dark bg-dark">
	<div class="container">
		<!-- 标志 -->
		<a class="navbar-brand" href="#" data-bs-toggle="modal" data-bs-target="#login">
			<h2 style="line-height:2.5rem; height:2.5rem;">
				神兔照片墙
			</h2>
		</a>
		<!-- 登录模态窗 -->
		{% if user.is_superuser %}
		<ul class="navbar-nav">
			<li class="nav-item">
				<h2>
					<a id="addButton" class="nav-link active" href="#" data-bs-toggle="modal" data-bs-target="#upload">
						+
					</a>
				</h2>
			</li>
		</ul>
		{% endif %}
	</div>
</nav>

<!-- 登出 -->
{% if user.is_superuser %}

<div class="modal fade" id="login">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-body">
				<p>确认退出账号吗？</p>
				<form action="{% url 'album:home' %}" method="POST">{% csrf_token %}
					<input type="text" id="isLogout" name="isLogout" value="True" hidden>
					<button type="submit" class="btn btn-danger">Logout</button>
				</form>
			</div>
		</div>
	</div>
</div>

<!-- 上传模态窗 -->
<div class="modal fade" id="upload">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-body">
				<h5 class="modal-title">上传图片</h5>
				<form action="{% url 'album:upload' %}" method="POST" enctype="multipart/form-data">
					{% csrf_token %}
					<div class="col py-2">
						<label for="images" style="font-weight: bold;">本地图片:</label><br>
						<input class="form-control" type="file" id="images" name="images" multiple="multiple"
							accept="image/*">
						<label for="foreignUrl" style="font-weight: bold;">在线图片:</label><br>
						<input type="text" id="foreignUrl" name="foreignUrl" style="width: 100%"
							placeholder="e.g. jsdelivr, 七牛云">
					</div>
					<button type="submit" class="btn btn-primary">提交</button>
				</form>
			</div>
		</div>
	</div>
</div>
<!-- 登录 -->
{% else %}

<div class="modal fade" id="login">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-body">
				<form action="{% url 'album:home' %}" method="POST">
					{% csrf_token %}
					<div class="mb-3">
						<label for="username" class="form-label">Username</label>
						<input type="text" class="form-control" id="username" name="username">
					</div>
					<div class="mb-3">
						<label for="pwd" class="form-label">Password</label>
						<input type="password" class="form-control" id="pwd" name="password">
						<div id="passwordHelp" class="form-text">
							We'll never share your password with anyone else.
						</div>
					</div>
					<button type="submit" class="btn btn-primary">Login</button>
				</form>
			</div>
		</div>
	</div>
</div>

{% endif %}


<style>
	@media screen and (max-width:800px) {
		#addButton {
			width: 5rem;
		}
	}
</style>